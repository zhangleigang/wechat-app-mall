# ğŸš€ ä»£ç åŒ…ä½“ç§¯è¶…é™ - å¿«é€Ÿä¿®å¤æŒ‡å—

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### 1. æ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶
åœ¨ `project.config.json` ä¸­é…ç½®äº† `packOptions.ignore`ï¼Œæ’é™¤ï¼š
- âœ… doc æ–‡ä»¶å¤¹ï¼ˆPDF æ–‡æ¡£ï¼‰
- âœ… docs æ–‡ä»¶å¤¹ï¼ˆMarkdown æ–‡æ¡£ï¼‰
- âœ… scripts æ–‡ä»¶å¤¹ï¼ˆæ„å»ºè„šæœ¬ï¼‰
- âœ… .kiro æ–‡ä»¶å¤¹ï¼ˆIDE é…ç½®ï¼‰
- âœ… æ‰€æœ‰ .mdã€.pdfã€.pyã€.difypkg æ–‡ä»¶

### 2. åˆ é™¤æœªä½¿ç”¨çš„æ–‡ä»¶
- âœ… åˆ é™¤ `updated_knowledge.js`ï¼ˆ60KBï¼‰

## ğŸ“Š é¢„æœŸæ•ˆæœ

- **ä¼˜åŒ–å‰**: 2854KBï¼ˆè¶…é™ 854KBï¼‰
- **ä¼˜åŒ–å**: é¢„è®¡ ~800KBï¼ˆç¬¦åˆ 2MB é™åˆ¶ï¼‰

## ğŸ”„ ä¸‹ä¸€æ­¥æ“ä½œ

### ç«‹å³éªŒè¯

1. **é‡æ–°ç¼–è¯‘é¡¹ç›®**
   ```
   å¼€å‘è€…å·¥å…· -> ç¼–è¯‘
   ```

2. **æŸ¥çœ‹ä»£ç åŒ…å¤§å°**
   ```
   å¼€å‘è€…å·¥å…· -> è¯¦æƒ… -> æœ¬åœ°ä»£ç 
   ```

3. **çœŸæœºè°ƒè¯•**
   ```
   å¼€å‘è€…å·¥å…· -> çœŸæœºè°ƒè¯•
   ```

### å¦‚æœä»ç„¶è¶…é™

çŸ¥è¯†åº“æ•°æ®æ–‡ä»¶ `utils/knowledge.js` æœ‰ 2MBï¼Œè¿™æ˜¯ä¸»è¦é—®é¢˜ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šå°†çŸ¥è¯†åº“æ•°æ®ç§»åˆ°äº‘å­˜å‚¨

#### æ­¥éª¤ 1ï¼šå‡†å¤‡äº‘å­˜å‚¨
1. å°† `utils/knowledge.js` çš„æ•°æ®å¯¼å‡ºä¸º JSON
2. ä¸Šä¼ åˆ°äº‘å­˜å‚¨æˆ– CDN
3. è·å–è®¿é—® URL

#### æ­¥éª¤ 2ï¼šä¿®æ”¹ä»£ç 
åœ¨ `app.js` ä¸­æ·»åŠ çŸ¥è¯†åº“åŠ è½½é€»è¾‘ï¼š

\`\`\`javascript
// app.js
App({
  onLaunch: function() {
    // åŠ è½½çŸ¥è¯†åº“æ•°æ®
    this.loadKnowledgeData()
  },
  
  async loadKnowledgeData() {
    try {
      // å…ˆå°è¯•ä»ç¼“å­˜è¯»å–
      let knowledge = wx.getStorageSync('knowledge_data')
      
      if (!knowledge) {
        // ä»äº‘ç«¯åŠ è½½
        wx.showLoading({ title: 'åŠ è½½çŸ¥è¯†åº“...' })
        
        const res = await wx.request({
          url: 'https://your-cdn.com/knowledge.json',
          method: 'GET'
        })
        
        knowledge = res.data
        
        // ç¼“å­˜åˆ°æœ¬åœ°ï¼ˆæœ€å¤š 10MBï¼‰
        wx.setStorageSync('knowledge_data', knowledge)
        
        wx.hideLoading()
      }
      
      this.globalData.knowledgeData = knowledge
    } catch (error) {
      console.error('åŠ è½½çŸ¥è¯†åº“å¤±è´¥:', error)
      wx.showToast({
        title: 'çŸ¥è¯†åº“åŠ è½½å¤±è´¥',
        icon: 'none'
      })
    }
  },
  
  globalData: {
    knowledgeData: null
  }
})
\`\`\`

#### æ­¥éª¤ 3ï¼šä¿®æ”¹çŸ¥è¯†åº“é¡µé¢
\`\`\`javascript
// pages/knowledge/index.js
const app = getApp()

Page({
  onLoad() {
    // ä»å…¨å±€æ•°æ®è·å–çŸ¥è¯†åº“
    const knowledge = app.globalData.knowledgeData
    
    if (knowledge) {
      this.setData({
        categories: knowledge.categories,
        questions: knowledge.questions
      })
    } else {
      // ç­‰å¾…åŠ è½½å®Œæˆ
      app.loadKnowledgeData().then(() => {
        const knowledge = app.globalData.knowledgeData
        this.setData({
          categories: knowledge.categories,
          questions: knowledge.questions
        })
      })
    }
  }
})
\`\`\`

## ğŸ“ éªŒè¯æ¸…å•

- [ ] é‡æ–°ç¼–è¯‘é¡¹ç›®
- [ ] æŸ¥çœ‹ä»£ç åŒ…å¤§å°æ˜¯å¦ < 2MB
- [ ] çœŸæœºè°ƒè¯•æ˜¯å¦æˆåŠŸ
- [ ] çŸ¥è¯†åº“é¡µé¢æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
- [ ] æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ’é™¤çš„æ–‡ä»¶ä¸ä¼šè¢«æ‰“åŒ…**
   - docã€docs æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ä¸ä¼šåœ¨å°ç¨‹åºä¸­
   - è¿™äº›æ–‡ä»¶ä»…ç”¨äºå¼€å‘å’Œæ–‡æ¡£

2. **çŸ¥è¯†åº“äº‘å­˜å‚¨æ–¹æ¡ˆ**
   - é¦–æ¬¡åŠ è½½éœ€è¦ç½‘ç»œè¯·æ±‚ï¼ˆçº¦ 1-2 ç§’ï¼‰
   - åç»­è®¿é—®ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼ˆç§’å¼€ï¼‰
   - å¯ä»¥åŠ¨æ€æ›´æ–°çŸ¥è¯†åº“å†…å®¹

3. **ç¼“å­˜ç®¡ç†**
   - å°ç¨‹åºæœ¬åœ°å­˜å‚¨é™åˆ¶ 10MB
   - çŸ¥è¯†åº“æ•°æ®çº¦ 2MBï¼Œåœ¨é™åˆ¶å†…
   - å¯ä»¥è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´

## ğŸ†˜ å¦‚æœè¿˜æœ‰é—®é¢˜

### é—®é¢˜ 1ï¼šä»£ç åŒ…ä»ç„¶è¶…é™
- æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å…¶ä»–å¤§æ–‡ä»¶
- è€ƒè™‘ä½¿ç”¨åˆ†åŒ…åŠ è½½
- ä¼˜åŒ–å›¾ç‰‡èµ„æº

### é—®é¢˜ 2ï¼šçŸ¥è¯†åº“åŠ è½½å¤±è´¥
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æ£€æŸ¥ CDN URL æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥è¯·æ±‚åŸŸåæ˜¯å¦åœ¨ç™½åå•

### é—®é¢˜ 3ï¼šåŠŸèƒ½å¼‚å¸¸
- æ£€æŸ¥æ˜¯å¦è¯¯åˆ äº†å¿…è¦æ–‡ä»¶
- æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
- å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬

---

**æ›´æ–°æ—¶é—´**: 2024-11-13  
**çŠ¶æ€**: âœ… åŸºç¡€ä¼˜åŒ–å·²å®Œæˆï¼Œç­‰å¾…éªŒè¯
