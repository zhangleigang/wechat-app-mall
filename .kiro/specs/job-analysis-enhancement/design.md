# å²—ä½åˆ†æé¡µé¢ä¼˜åŒ–è®¾è®¡æ–‡æ¡£

## Overview

æœ¬è®¾è®¡æ–‡æ¡£è¯¦ç»†æè¿°äº†å²—ä½åˆ†æé¡µé¢çš„ä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŒ…æ‹¬è§†è§‰è®¾è®¡ã€ç»„ä»¶æ¶æ„ã€äº¤äº’æµç¨‹å’ŒæŠ€æœ¯å®ç°ã€‚è®¾è®¡ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªç°ä»£åŒ–ã€æ˜“ç”¨ã€åŠŸèƒ½ä¸°å¯Œçš„AIå¯¹è¯ç•Œé¢ã€‚

## Architecture

### é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Gradient Header             â”‚  æ¸å˜å¤´éƒ¨
â”‚      (æ ‡é¢˜ + æè¿°)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Quick Questions Section        â”‚  å¿«æ·é—®é¢˜åŒº
â”‚    (é¦–æ¬¡è¿›å…¥æ—¶æ˜¾ç¤º)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚        Chat Container               â”‚  å¯¹è¯åŒºåŸŸ
â”‚      (Scroll View)                  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   User Message Bubble       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   AI Message Bubble         â”‚  â”‚
â”‚  â”‚   [Copy] [Like]             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Typing Indicator          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Function Bar                   â”‚  åŠŸèƒ½æŒ‰é’®æ 
â”‚    [Clear] [Export]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Input Section                  â”‚  è¾“å…¥åŒºåŸŸ
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”  â”‚
â”‚  â”‚  Textarea           â”‚  â”‚ ğŸš€â”‚  â”‚
â”‚  â”‚  [å­—æ•°ç»Ÿè®¡]         â”‚  â””â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶å±‚æ¬¡

```
JobAnalysisPage
â”œâ”€â”€ GradientHeader
â”‚   â”œâ”€â”€ Title
â”‚   â””â”€â”€ Description
â”œâ”€â”€ QuickQuestionsSection (conditional)
â”‚   â”œâ”€â”€ QuickTitle
â”‚   â””â”€â”€ QuickGrid
â”‚       â””â”€â”€ QuickItem Ã— 4
â”œâ”€â”€ ChatContainer (ScrollView)
â”‚   â””â”€â”€ MessagesWrapper
â”‚       â”œâ”€â”€ MessageItem (user)
â”‚       â”‚   â”œâ”€â”€ UserAvatar
â”‚       â”‚   â””â”€â”€ UserBubble
â”‚       â”‚       â”œâ”€â”€ MessageText
â”‚       â”‚       â””â”€â”€ MessageTime
â”‚       â”œâ”€â”€ MessageItem (ai)
â”‚       â”‚   â”œâ”€â”€ AIAvatar
â”‚       â”‚   â””â”€â”€ AIBubble
â”‚       â”‚       â”œâ”€â”€ MessageText
â”‚       â”‚       â”œâ”€â”€ MessageTime
â”‚       â”‚       â””â”€â”€ MessageActions
â”‚       â”‚           â”œâ”€â”€ CopyButton
â”‚       â”‚           â””â”€â”€ LikeButton
â”‚       â””â”€â”€ TypingIndicator (conditional)
â”œâ”€â”€ InputSection
â”‚   â”œâ”€â”€ FunctionBar (conditional)
â”‚   â”‚   â”œâ”€â”€ ClearButton
â”‚   â”‚   â””â”€â”€ ExportButton
â”‚   â””â”€â”€ InputContainer
â”‚       â”œâ”€â”€ InputWrapper
â”‚       â”‚   â”œâ”€â”€ Textarea
â”‚       â”‚   â””â”€â”€ CharCount
â”‚       â””â”€â”€ SendButton
```

## Components and Interfaces

### 1. Gradient Header Component

**åŠŸèƒ½**: æ˜¾ç¤ºé¡µé¢æ ‡é¢˜å’Œæè¿°

**è§†è§‰è®¾è®¡**:
- èƒŒæ™¯: ç´«è‰²æ¸å˜ (`--primary-gradient`)
- æ ‡é¢˜: ç™½è‰²ï¼Œç‰¹å¤§å­—å· (`text-2xl`)
- æè¿°: ç™½è‰²ï¼Œå°å­—å· (`text-sm`)ï¼Œé€æ˜åº¦ 0.9
- å†…è¾¹è·: `var(--space-lg)`

**WXML ç»“æ„**:
```xml
<view class="gradient-header">
  <text class="text-2xl text-bold text-white">å²—ä½åˆ†æ</text>
  <text class="text-sm text-white mt-sm" style="opacity: 0.9;">
    AIæ™ºèƒ½åˆ†æå²—ä½éœ€æ±‚ï¼ŒåŠ©ä½ ç²¾å‡†åŒ¹é…
  </text>
</view>
```

### 2. Quick Questions Component

**åŠŸèƒ½**: æ˜¾ç¤ºé¢„è®¾çš„å¿«æ·é—®é¢˜ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿå¼€å§‹

**æ˜¾ç¤ºæ¡ä»¶**: `messages.length === 0`

**è§†è§‰è®¾è®¡**:
- èƒŒæ™¯: å¡ç‰‡èƒŒæ™¯ (`--bg-card`)
- å¸ƒå±€: 2åˆ—ç½‘æ ¼
- é—®é¢˜å¡ç‰‡: æµ…è‰²èƒŒæ™¯ï¼Œè¾¹æ¡†ï¼Œåœ†è§’
- ç‚¹å‡»æ•ˆæœ: ç¼©æ”¾åŠ¨ç”»ï¼Œè¾¹æ¡†å˜è‰²

**å¿«æ·é—®é¢˜åˆ—è¡¨**:
1. "åˆ†æè¿™ä¸ªå¤§æ•°æ®å·¥ç¨‹å¸ˆå²—ä½çš„æŠ€èƒ½è¦æ±‚"
2. "è¿™ä¸ªæ•°æ®åˆ†æå¸ˆèŒä½éœ€è¦ä»€ä¹ˆç»éªŒï¼Ÿ"
3. "å¸®æˆ‘åˆ†æSparkå¼€å‘å·¥ç¨‹å¸ˆçš„é¢è¯•é‡ç‚¹"
4. "æ•°æ®ä»“åº“å·¥ç¨‹å¸ˆå²—ä½çš„æ ¸å¿ƒèƒ½åŠ›æ˜¯ä»€ä¹ˆï¼Ÿ"

**äº¤äº’æµç¨‹**:
```
ç”¨æˆ·ç‚¹å‡»å¿«æ·é—®é¢˜
  â†“
å¡«å……åˆ°è¾“å…¥æ¡†
  â†“
è§¦è§‰åé¦ˆ (éœ‡åŠ¨)
  â†“
è‡ªåŠ¨å‘é€æ¶ˆæ¯
  â†“
éšè—å¿«æ·é—®é¢˜åŒºåŸŸ
```

### 3. Message Bubble Component

**ç”¨æˆ·æ¶ˆæ¯æ°”æ³¡**:
- ä½ç½®: å³å¯¹é½
- å¤´åƒ: ç´«è‰²æ¸å˜åœ†å½¢ï¼Œæ˜¾ç¤º"æˆ‘"
- æ°”æ³¡: ç´«è‰²æ¸å˜èƒŒæ™¯ï¼Œç™½è‰²æ–‡å­—
- å°¾å·´: æŒ‡å‘å³ä¾§
- é˜´å½±: å°é˜´å½±æ•ˆæœ

**AIæ¶ˆæ¯æ°”æ³¡**:
- ä½ç½®: å·¦å¯¹é½
- å¤´åƒ: è“è‰²æ¸å˜åœ†å½¢ï¼Œæ˜¾ç¤º"AI"
- æ°”æ³¡: ç™½è‰²èƒŒæ™¯ï¼Œé»‘è‰²æ–‡å­—ï¼Œè¾¹æ¡†
- å°¾å·´: æŒ‡å‘å·¦ä¾§
- æ“ä½œæŒ‰é’®: å¤åˆ¶ã€ç‚¹èµ

**æ¶ˆæ¯æ•°æ®ç»“æ„**:
```javascript
{
  role: 'user' | 'assistant',
  content: string,
  time: string,        // æ ¼å¼åŒ–çš„æ—¶é—´
  timestamp: number    // æ—¶é—´æˆ³
}
```

**æ—¶é—´æ ¼å¼åŒ–è§„åˆ™**:
- < 1åˆ†é’Ÿ: "åˆšåˆš"
- < 1å°æ—¶: "Xåˆ†é’Ÿå‰"
- ä»Šå¤©: "HH:MM"
- å†å²: "MM-DD HH:MM"

### 4. Typing Indicator Component

**åŠŸèƒ½**: æ˜¾ç¤ºAIæ­£åœ¨å›å¤çš„çŠ¶æ€

**è§†è§‰è®¾è®¡**:
- æ–‡å­—: "AIæ­£åœ¨åˆ†æä¸­"
- åŠ¨ç”»: 3ä¸ªåœ†ç‚¹ä¾æ¬¡è·³åŠ¨
- æ°”æ³¡: ç‰¹æ®Šæ ·å¼ï¼ˆæµ…è‰²èƒŒæ™¯ï¼‰

**åŠ¨ç”»æ•ˆæœ**:
```css
@keyframes typing {
  0%, 60%, 100% {
    transform: translateY(0);
    opacity: 0.4;
  }
  30% {
    transform: translateY(-8px);
    opacity: 1;
  }
}
```

### 5. Message Actions Component

**åŠŸèƒ½**: æä¾›æ¶ˆæ¯æ“ä½œåŠŸèƒ½

**æ“ä½œåˆ—è¡¨**:
1. **å¤åˆ¶**: å¤åˆ¶æ¶ˆæ¯å†…å®¹åˆ°å‰ªè´´æ¿
2. **æœ‰ç”¨**: ç‚¹èµåé¦ˆ

**è§†è§‰è®¾è®¡**:
- ä½ç½®: AIæ¶ˆæ¯åº•éƒ¨
- å¸ƒå±€: æ¨ªå‘æ’åˆ—
- æ ·å¼: å›¾æ ‡ + æ–‡å­—
- èƒŒæ™¯: æ‚¬åœæ—¶å˜è‰²

**äº¤äº’æµç¨‹**:
```
å¤åˆ¶æ“ä½œ:
  ç”¨æˆ·ç‚¹å‡»å¤åˆ¶æŒ‰é’®
    â†“
  è°ƒç”¨ wx.setClipboardData
    â†“
  æ˜¾ç¤º Toast: "å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"

ç‚¹èµæ“ä½œ:
  ç”¨æˆ·ç‚¹å‡»æœ‰ç”¨æŒ‰é’®
    â†“
  æ˜¾ç¤º Toast: "æ„Ÿè°¢æ‚¨çš„åé¦ˆ"
    â†“
  (å¯é€‰) å‘é€ç»Ÿè®¡æ•°æ®
```

### 6. Input Section Component

**è¾“å…¥æ¡†è®¾è®¡**:
- ç±»å‹: å¤šè¡Œæ–‡æœ¬æ¡† (textarea)
- è‡ªåŠ¨é«˜åº¦: æœ€å°44pxï¼Œæœ€å¤§120px
- å ä½ç¬¦: "è¯·è¾“å…¥å²—ä½æè¿°æˆ–JDé“¾æ¥..."
- æœ€å¤§é•¿åº¦: 2000å­—ç¬¦
- èšç„¦æ•ˆæœ: è¾¹æ¡†é«˜äº® + é˜´å½±

**å­—æ•°ç»Ÿè®¡**:
- ä½ç½®: è¾“å…¥æ¡†å³ä¸‹è§’
- æ ¼å¼: "å½“å‰å­—æ•°/2000"
- æ˜¾ç¤ºæ¡ä»¶: è¾“å…¥å†…å®¹ä¸ä¸ºç©º

**å‘é€æŒ‰é’®**:
- å½¢çŠ¶: åœ†å½¢ (48px Ã— 48px)
- å›¾æ ‡: ç«ç®­ ğŸš€
- çŠ¶æ€:
  - å¯ç”¨: ç´«è‰²æ¸å˜èƒŒæ™¯
  - ç¦ç”¨: ç°è‰²èƒŒæ™¯
  - åŠ è½½: æ²™æ¼å›¾æ ‡æ—‹è½¬

### 7. Function Bar Component

**åŠŸèƒ½**: æä¾›å¯¹è¯ç®¡ç†åŠŸèƒ½

**æ˜¾ç¤ºæ¡ä»¶**: `messages.length > 0`

**åŠŸèƒ½æŒ‰é’®**:
1. **æ¸…ç©º**: æ¸…ç©ºæ‰€æœ‰å¯¹è¯è®°å½•
2. **å¯¼å‡º**: å¯¼å‡ºå¯¹è¯å†…å®¹

**æ¸…ç©ºæµç¨‹**:
```
ç”¨æˆ·ç‚¹å‡»æ¸…ç©ºæŒ‰é’®
  â†“
æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†
  â†“
ç”¨æˆ·ç¡®è®¤
  â†“
æ¸…ç©º messages æ•°ç»„
  â†“
åˆ é™¤æœ¬åœ°å­˜å‚¨
  â†“
æ˜¾ç¤º Toast: "å·²æ¸…ç©ºå¯¹è¯"
```

**å¯¼å‡ºæµç¨‹**:
```
ç”¨æˆ·ç‚¹å‡»å¯¼å‡ºæŒ‰é’®
  â†“
æ ¼å¼åŒ–å¯¹è¯è®°å½•
  â†“
å¤åˆ¶åˆ°å‰ªè´´æ¿
  â†“
æ˜¾ç¤º Toast: "å¯¹è¯è®°å½•å·²å¤åˆ¶"
```

**å¯¼å‡ºæ ¼å¼**:
```
å²—ä½åˆ†æå¯¹è¯è®°å½•

æˆ‘ (14:30):
è¯·åˆ†æè¿™ä¸ªå²—ä½...

AIåŠ©æ‰‹ (14:31):
æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯...
```

## Data Models

### Page Data Structure

```javascript
{
  // å¯¹è¯æ¶ˆæ¯åˆ—è¡¨
  messages: [
    {
      role: 'user' | 'assistant',
      content: string,
      time: string,
      timestamp: number
    }
  ],
  
  // è¾“å…¥æ¡†å†…å®¹
  inputVal: string,
  
  // å‘é€çŠ¶æ€
  sending: boolean,
  
  // æ»šåŠ¨ä½ç½®
  scrollTop: number,
  
  // å¿«æ·é—®é¢˜åˆ—è¡¨
  quickQuestions: [
    'åˆ†æè¿™ä¸ªå¤§æ•°æ®å·¥ç¨‹å¸ˆå²—ä½çš„æŠ€èƒ½è¦æ±‚',
    'è¿™ä¸ªæ•°æ®åˆ†æå¸ˆèŒä½éœ€è¦ä»€ä¹ˆç»éªŒï¼Ÿ',
    'å¸®æˆ‘åˆ†æSparkå¼€å‘å·¥ç¨‹å¸ˆçš„é¢è¯•é‡ç‚¹',
    'æ•°æ®ä»“åº“å·¥ç¨‹å¸ˆå²—ä½çš„æ ¸å¿ƒèƒ½åŠ›æ˜¯ä»€ä¹ˆï¼Ÿ'
  ]
}
```

### Local Storage Structure

```javascript
// å­˜å‚¨é”®: 'job_conversation'
{
  messages: Array<Message>,
  updateTime: number  // æœ€åæ›´æ–°æ—¶é—´æˆ³
}
```

## Interaction Flows

### 1. é¦–æ¬¡è¿›å…¥æµç¨‹

```
ç”¨æˆ·è¿›å…¥é¡µé¢
  â†“
æ£€æŸ¥æœ¬åœ°å­˜å‚¨
  â†“
æ— å†å²è®°å½•
  â†“
æ˜¾ç¤ºå¿«æ·é—®é¢˜åŒºåŸŸ
  â†“
ç”¨æˆ·ç‚¹å‡»å¿«æ·é—®é¢˜
  â†“
è‡ªåŠ¨å‘é€æ¶ˆæ¯
  â†“
éšè—å¿«æ·é—®é¢˜
  â†“
æ˜¾ç¤ºå¯¹è¯ç•Œé¢
```

### 2. å‘é€æ¶ˆæ¯æµç¨‹

```
ç”¨æˆ·è¾“å…¥å†…å®¹
  â†“
ç‚¹å‡»å‘é€æŒ‰é’®
  â†“
è§¦è§‰åé¦ˆ (éœ‡åŠ¨)
  â†“
æ·»åŠ ç”¨æˆ·æ¶ˆæ¯åˆ°åˆ—è¡¨
  â†“
æ¸…ç©ºè¾“å…¥æ¡†
  â†“
è®¾ç½® sending = true
  â†“
æ˜¾ç¤ºæ‰“å­—æŒ‡ç¤ºå™¨
  â†“
æ»šåŠ¨åˆ°åº•éƒ¨
  â†“
è°ƒç”¨ AI.chat() æ¥å£
  â†“
æ”¶åˆ°AIå›å¤
  â†“
æ·»åŠ AIæ¶ˆæ¯åˆ°åˆ—è¡¨
  â†“
è®¾ç½® sending = false
  â†“
éšè—æ‰“å­—æŒ‡ç¤ºå™¨
  â†“
æ»šåŠ¨åˆ°åº•éƒ¨
  â†“
ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
```

### 3. åŠ è½½å†å²æµç¨‹

```
ç”¨æˆ·è¿›å…¥é¡µé¢
  â†“
è¯»å–æœ¬åœ°å­˜å‚¨
  â†“
æ£€æŸ¥æ›´æ–°æ—¶é—´
  â†“
< 24å°æ—¶
  â†“
åŠ è½½å†å²æ¶ˆæ¯
  â†“
æ»šåŠ¨åˆ°åº•éƒ¨
  â†“
æ˜¾ç¤ºå¯¹è¯ç•Œé¢
```

## Styling and Design System

### Color Scheme

**ç”¨æˆ·æ¶ˆæ¯**:
- èƒŒæ™¯: `--primary-gradient` (ç´«è‰²æ¸å˜)
- æ–‡å­—: `--text-white`
- å¤´åƒ: `--primary-gradient`

**AIæ¶ˆæ¯**:
- èƒŒæ™¯: `--bg-card` (ç™½è‰²)
- æ–‡å­—: `--text-primary`
- è¾¹æ¡†: `--border-light`
- å¤´åƒ: è“è‰²æ¸å˜ `linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)`

**é¡µé¢èƒŒæ™¯**:
- ä¸»èƒŒæ™¯: `--bg-page` (æµ…ç°)
- å¡ç‰‡èƒŒæ™¯: `--bg-card` (ç™½è‰²)

### Typography

- æ ‡é¢˜: `--font-2xl` + `--font-bold`
- æè¿°: `--font-sm`
- æ¶ˆæ¯å†…å®¹: `--font-md`
- æ—¶é—´: `--font-xs`
- æ“ä½œæŒ‰é’®: `--font-xs`

### Spacing

- é¡µé¢å†…è¾¹è·: `--space-lg`
- æ¶ˆæ¯é—´è·: `--space-xl`
- ç»„ä»¶é—´è·: `--space-md`
- å°é—´è·: `--space-sm`

### Border Radius

- æ¶ˆæ¯æ°”æ³¡: `--radius-lg`
- å¤´åƒ: `--radius-circle`
- è¾“å…¥æ¡†: `--radius-xl`
- å‘é€æŒ‰é’®: `--radius-circle`

### Shadows

- æ¶ˆæ¯æ°”æ³¡: `--shadow-sm`
- å‘é€æŒ‰é’®: `--shadow-md`
- è¾“å…¥æ¡†èšç„¦: `0 0 0 3px var(--primary-lighter)`

### Animations

**æ¶ˆæ¯æ»‘å…¥**:
```css
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
```

**æ‰“å­—åŠ¨ç”»**:
```css
@keyframes typing {
  0%, 60%, 100% {
    transform: translateY(0);
    opacity: 0.4;
  }
  30% {
    transform: translateY(-8px);
    opacity: 1;
  }
}
```

**æŒ‰é’®ç‚¹å‡»**:
```css
.button:active {
  transform: scale(0.95);
}
```

**åŠ è½½æ—‹è½¬**:
```css
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
```

## Error Handling

### ç½‘ç»œé”™è¯¯

```javascript
try {
  const response = await AI.chat(...)
} catch (error) {
  console.error('å‘é€æ¶ˆæ¯å¤±è´¥:', error)
  wx.showToast({
    title: error.message || 'å‘é€å¤±è´¥ï¼Œè¯·é‡è¯•',
    icon: 'none'
  })
  this.setData({ sending: false })
}
```

### ç™»å½•æ£€æŸ¥

```javascript
if (!AUTH.checkHasLogined()) {
  wx.navigateTo({ url: '/pages/login/index' })
  return
}
```

### è¾“å…¥éªŒè¯

```javascript
const text = this.data.inputVal.trim()
if (!text || this.data.sending) return
```

### å­˜å‚¨é”™è¯¯

```javascript
try {
  wx.setStorageSync('job_conversation', data)
} catch (error) {
  console.error('ä¿å­˜å¯¹è¯å¤±è´¥:', error)
  // é™é»˜å¤±è´¥ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ
}
```

## Performance Optimization

### 1. æ»šåŠ¨æ€§èƒ½

- ä½¿ç”¨ `enhanced="true"` å¯ç”¨å¢å¼ºæ»šåŠ¨
- ä½¿ç”¨ `show-scrollbar="false"` éšè—æ»šåŠ¨æ¡
- ä½¿ç”¨ `scroll-with-animation="true"` å¹³æ»‘æ»šåŠ¨

### 2. åŠ¨ç”»æ€§èƒ½

- ä½¿ç”¨ CSS transform è€Œé position
- ä½¿ç”¨ opacity è€Œé visibility
- é™åˆ¶åŠ¨ç”»å…ƒç´ æ•°é‡

### 3. æ•°æ®ç®¡ç†

- é™åˆ¶å†å²æ¶ˆæ¯æ•°é‡ï¼ˆå»ºè®®æœ€å¤š50æ¡ï¼‰
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
- ä½¿ç”¨é˜²æŠ–å¤„ç†è¾“å…¥äº‹ä»¶

### 4. å›¾ç‰‡å’Œèµ„æº

- ä½¿ç”¨ emoji è€Œéå›¾ç‰‡å›¾æ ‡
- é¿å…å¤§å›¾ç‰‡åŠ è½½
- ä½¿ç”¨ CSS æ¸å˜è€Œéå›¾ç‰‡èƒŒæ™¯

## Accessibility

### 1. æ–‡å­—å¯è¯»æ€§

- æœ€å°å­—å·: 12px
- è¡Œé«˜: 1.5-1.8
- å¯¹æ¯”åº¦: ç¬¦åˆ WCAG AA æ ‡å‡†

### 2. è§¦æ‘¸ç›®æ ‡

- æœ€å°ç‚¹å‡»åŒºåŸŸ: 44px Ã— 44px
- æŒ‰é’®é—´è·: è‡³å°‘ 8px

### 3. åé¦ˆæœºåˆ¶

- è§†è§‰åé¦ˆ: é¢œè‰²å˜åŒ–ã€åŠ¨ç”»
- è§¦è§‰åé¦ˆ: éœ‡åŠ¨
- å¬è§‰åé¦ˆ: Toast æç¤º

## Testing Strategy

### 1. åŠŸèƒ½æµ‹è¯•

- âœ… å‘é€æ¶ˆæ¯åŠŸèƒ½
- âœ… æ¥æ”¶AIå›å¤
- âœ… å¿«æ·é—®é¢˜ç‚¹å‡»
- âœ… æ¶ˆæ¯å¤åˆ¶åŠŸèƒ½
- âœ… å¯¹è¯æ¸…ç©ºåŠŸèƒ½
- âœ… å¯¹è¯å¯¼å‡ºåŠŸèƒ½
- âœ… å†å²è®°å½•åŠ è½½

### 2. ç•Œé¢æµ‹è¯•

- âœ… æ¶ˆæ¯æ°”æ³¡æ˜¾ç¤º
- âœ… å¤´åƒæ˜¾ç¤º
- âœ… æ—¶é—´æ ¼å¼åŒ–
- âœ… æ‰“å­—æŒ‡ç¤ºå™¨åŠ¨ç”»
- âœ… è¾“å…¥æ¡†èšç„¦æ•ˆæœ
- âœ… å‘é€æŒ‰é’®çŠ¶æ€

### 3. äº¤äº’æµ‹è¯•

- âœ… è§¦è§‰åé¦ˆ
- âœ… ç‚¹å‡»åŠ¨ç”»
- âœ… æ»šåŠ¨æµç•…åº¦
- âœ… è¾“å…¥å“åº”é€Ÿåº¦

### 4. å…¼å®¹æ€§æµ‹è¯•

- âœ… iPhone ç³»åˆ—
- âœ… Android ä¸»æµæœºå‹
- âœ… ä¸åŒå±å¹•å°ºå¯¸
- âœ… æ¨ªç«–å±åˆ‡æ¢

### 5. æ€§èƒ½æµ‹è¯•

- âœ… é¡µé¢åŠ è½½æ—¶é—´
- âœ… åŠ¨ç”»å¸§ç‡
- âœ… å†…å­˜å ç”¨
- âœ… é•¿å¯¹è¯æ€§èƒ½

## Implementation Notes

### 1. ä½¿ç”¨è®¾è®¡ç³»ç»Ÿ

æ‰€æœ‰æ ·å¼å¿…é¡»ä½¿ç”¨ `app.wxss` ä¸­å®šä¹‰çš„ CSS å˜é‡ï¼Œä¸å…è®¸ç¡¬ç¼–ç æ ·å¼å€¼ã€‚

### 2. ä»£ç ç»„ç»‡

- WXML: æ¸…æ™°çš„ç»“æ„å’Œè¯­ä¹‰åŒ–æ ‡ç­¾
- WXSS: æ¨¡å—åŒ–çš„æ ·å¼ç»„ç»‡
- JS: åŠŸèƒ½å‡½æ•°åˆ†ç¦»ï¼Œæé«˜å¯ç»´æŠ¤æ€§

### 3. æ³¨é‡Šè§„èŒƒ

- æ¯ä¸ªä¸»è¦åŠŸèƒ½æ·»åŠ æ³¨é‡Š
- å¤æ‚é€»è¾‘æ·»åŠ è¯´æ˜
- ä½¿ç”¨ JSDoc æ ¼å¼

### 4. é”™è¯¯å¤„ç†

- æ‰€æœ‰å¼‚æ­¥æ“ä½œä½¿ç”¨ try-catch
- æä¾›å‹å¥½çš„é”™è¯¯æç¤º
- è®°å½•é”™è¯¯æ—¥å¿—

### 5. æ€§èƒ½è€ƒè™‘

- é¿å…é¢‘ç¹çš„ setData
- åˆå¹¶å¤šä¸ªæ•°æ®æ›´æ–°
- ä½¿ç”¨èŠ‚æµå’Œé˜²æŠ–
